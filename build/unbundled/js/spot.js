function Spot(i,s,h,t,l){this.grid=l,this.i=i,this.j=s,this.f=0,this.g=0,this.h=0,this.vh=0,this.neighbors=void 0,this.neighboringWalls=void 0,this.previous=void 0,this.wall=!1,this.end=!1,random(1)<canvas_density/100&&(this.wall=!0),this.show=function(i){this.wall?(fill(0),noStroke(),rect(this.i*h,this.j*t,h,t)):i&&(fill(i),noStroke(),rect(this.i*h,this.j*t,h,t))},this.getNeighbors=function(){return this.neighbors||this.populateNeighbors(),this.neighbors},this.getNeighboringWalls=function(i){return this.neighboringWalls||this.populateNeighbors(),this.neighboringWalls};var n=[[-1,0],[0,-1],[1,0],[0,1]],o=[[-1,-1],[1,-1],[1,1],[-1,1]],r=[[0,1],[1,2],[2,3],[3,0]];this.getNode=function(i,s){return i<0||i>=this.grid.length||s<0||s>=this.grid[0].length?null:this.grid[i][s]},this.populateNeighbors=function(){this.neighbors=[],this.neighboringWalls=[];for(var i=0;i<4;i++){var s=this.getNode(this.i+n[i][0],this.j+n[i][1]);null!=s&&(s.wall?this.neighboringWalls.push(s):this.neighbors.push(s))}for(var i=0;i<4;i++){var h=this.i+o[i][0],t=this.j+o[i][1],s=this.getNode(h,t);if(null!=s){if(allowDiagonals&&!s.wall)if(canPassThroughCorners)this.neighbors.push(s);else{var l=r[i][0],e=r[i][1],g=this.grid[this.i+n[l][0]][this.j+n[l][1]],a=this.grid[this.i+n[e][0]][this.j+n[e][1]];g.wall&&a.wall||this.neighbors.push(s)}s.wall&&this.neighboringWalls.push(s)}}}}