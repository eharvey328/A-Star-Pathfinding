function generateMatrix(r,a){grid=new Array(a),w=width/a,h=height/r;for(var o=0;o<a;o++)grid[o]=new Array(r);for(var o=0;o<a;o++)for(var t=0;t<r;t++)grid[o][t]=new Spot(o,t,w,h,grid);initWalls()}function initWalls(){var r=grid[startX][startY],a=grid[endX][endY];r.wall=!1,a.wall=!1,a.end=!0,"astar"==alg?pathfinder=new AStar(r,a):pathfinder=new dijkstra(r,a)}function displayWalls(){for(var r=0;r<cols;r++)for(var a=0;a<rows;a++)grid[r][a].wall&&grid[r][a].show(color(255))}function pathfindWalls(){stepSearch(),background(color(48,48,48)),displayWalls(),pathfinder.start.show(color(0,230,118,150)),pathfinder.end.show(color(255,234,0,200));for(var r=0;r<pathfinder.closedSet.length;r++)pathfinder.closedSet[r].show(color(255,23,68,50));for(var r=0;r<pathfinder.openSet.length;r++){var a=pathfinder.openSet[r];a.show(color(0,230,118,50))}fill(0);var o=calcPath(pathfinder.lastCheckedNode);drawPath(o)}var canvas_density=30,canPassThroughCorners=!1,allowDiagonals=!0;