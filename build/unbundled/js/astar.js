function AStar(e,t){this.lastCheckedNode=e,this.openSet=[],this.openSet.push(e),this.closedSet=[],this.start=e,this.end=t,this.visualDist=function(e,t){return dist(e.i,e.j,t.i,t.j)},this.heuristic=function(e,t){var s;return s=allowDiagonals?dist(e.i,e.j,t.i,t.j):abs(e.i-t.i)+abs(e.j-t.j)},this.removeFromArray=function(e,t){var s=e.indexOf(t);s>-1&&e.splice(s,1)},this.step=function(){if(this.openSet.length>0){for(var e=0,s=1;s<this.openSet.length;s++)this.openSet[s].f<this.openSet[e].f&&(e=s),this.openSet[s].f==this.openSet[e].f&&(this.openSet[s].g>this.openSet[e].g&&(e=s),this.allowDiagonals||this.openSet[s].g==this.openSet[e].g&&this.openSet[s].vh<this.openSet[e].vh&&(e=s));var i=this.openSet[e];if(this.lastCheckedNode=i,i===this.end)return r=118,g=255,b=3,console.log("DONE!"),1;this.removeFromArray(this.openSet,i),this.closedSet.push(i);for(var h=i.getNeighbors(),s=0;s<h.length;s++){var o=h[s];if(!this.closedSet.includes(o)&&!o.wall){var n=i.g+this.heuristic(o,i);if(this.openSet.includes(o)){if(n>=o.g)continue}else this.openSet.push(o);o.g=n,o.h=this.heuristic(o,t),allowDiagonals||(o.vh=this.visualDist(o,t)),o.f=o.g+o.h,o.previous=i}}return 0}return r=255,g=23,b=68,console.log("no solution"),-1}}function stepSearch(){if(!paused||stepsAllowed>0){var e=pathfinder.step();switch(stepsAllowed--,e){case-1:pauseUnpause(!0);break;case 1:pauseUnpause(!0);break;case 0:}}}function calcPath(e){path=[];var t=e;for(path.push(t);t.previous;)path.push(t.previous),t=t.previous;return path}function drawPath(e){noFill(),stroke(r,g,b),strokeWeight(w/4),beginShape();for(var t=0;t<e.length;t++)vertex(e[t].i*w+w/2,e[t].j*w+w/2);endShape()}